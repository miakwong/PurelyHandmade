<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Register - Purely Homemade</title>

  <!-- Configuration file - must be loaded first -->
  <script src="/~xzy2020c/PurelyHandmade/js/config.js"></script>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet" />

  <!-- Custom CSS -->
  <script>
    document.write(`
      <link rel="stylesheet" href="${CONFIG.getCssPath('global.css')}">
      <link rel="stylesheet" href="${CONFIG.getCssPath('navbar.css')}">
      <link rel="stylesheet" href="${CONFIG.getCssPath('register.css')}">
    `);
  </script>

</head>

<body>
  <!-- Navbar Placeholder -->
  <div id="navbar-placeholder"></div>

  <div class="container my-5">
    <div class="row justify-content-center">
      <div class="col-md-8 col-lg-6">
        <div class="card register-card">
          <div class="card-header">
            <h2><i class="bi bi-person-plus me-2"></i>Create Account</h2>
          </div>
          <div class="card-body">
            <!-- Main validation message area -->
            <div id="form-validation-error" class="alert alert-danger mb-4 d-none"></div>

            <form id="register-form" novalidate>
              <!-- Avatar Upload -->
              <div class="avatar-container">
                <label for="avatarUpload" class="avatar-wrapper">
                  <div class="avatar-preview" id="avatarPreview">
                    <div class="avatar-placeholder">
                      <i class="bi bi-person"></i>
                    </div>
                  </div>
                  <div class="avatar-camera-icon">
                    <i class="bi bi-camera"></i>
                  </div>
                  <input type="file" class="avatar-input" id="avatarUpload" accept="image/*" />
                </label>
                <div id="avatar-error" class="validation-message mt-2 text-center"></div>
              </div>

              <!-- Personal Information -->
              <div class="row">
                <div class="col-md-6">
                  <div class="register-form-field-group">
                    <label for="firstName" class="form-label">First Name</label>
                    <input type="text" class="form-control" id="firstName" required />
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="register-form-field-group">
                    <label for="lastName" class="form-label">Last Name</label>
                    <input type="text" class="form-control" id="lastName" required />
                  </div>
                </div>
              </div>

              <div class="register-form-field-group">
                <label for="username" class="form-label">Username</label>
                <input type="text" class="form-control" id="username" required />
                <small class="form-text text-muted">
                  Username will be displayed on your profile and comments
                </small>
                <div id="username-error" class="validation-message"></div>
              </div>

              <div class="register-form-field-group">
                <label for="regEmail" class="form-label">Email Address</label>
                <input type="email" class="form-control" id="regEmail" required />
                <div id="email-error" class="validation-message"></div>
              </div>

              <div class="register-form-field-group">
                <label for="birthday" class="form-label">Birthday</label>
                <input type="date" class="form-control" id="birthday" required />
              </div>

              <div class="register-form-field-group">
                <label class="form-label">Gender</label>
                <div class="gender-options">
                  <div class="gender-option">
                    <input type="radio" name="gender" id="genderMale" value="male" />
                    <label for="genderMale">
                      <i class="bi bi-gender-male"></i>
                      Male
                    </label>
                  </div>
                  <div class="gender-option">
                    <input type="radio" name="gender" id="genderFemale" value="female" />
                    <label for="genderFemale">
                      <i class="bi bi-gender-female"></i>
                      Female
                    </label>
                  </div>
                  <div class="gender-option">
                    <input type="radio" name="gender" id="genderOther" value="other" />
                    <label for="genderOther">
                      <i class="bi bi-asterisk"></i>
                      Other
                    </label>
                  </div>
                </div>
                <div id="gender-error" class="validation-message"></div>
              </div>

              <!-- Password Section -->
              <div class="register-form-field-group">
                <label for="regPassword" class="form-label">Password</label>
                <input type="password" class="form-control" id="regPassword" required />
                <div class="password-strength">
                  <div id="passwordStrengthMeter" class="password-strength-meter"></div>
                </div>
                <small id="passwordHint" class="form-text text-muted">
                  Password must be at least 8 characters with numbers and uppercase letters
                </small>
                <div id="password-error" class="validation-message"></div>
              </div>

              <div class="register-form-field-group">
                <label for="regPasswordConfirm" class="form-label">Confirm Password</label>
                <input type="password" class="form-control" id="regPasswordConfirm" required />
                <div id="password-match-error" class="validation-message"></div>
              </div>

              <div class="register-form-field-group">
                <div class="form-check">
                  <input type="checkbox" class="form-check-input" id="termsCheck" required />
                  <label class="form-check-label" for="termsCheck">
                    I agree to the <a href="#" class="text-decoration-none">Terms &amp; Conditions</a>
                  </label>
                </div>
                <div id="terms-error" class="validation-message"></div>
              </div>

              <button type="submit" class="btn btn-primary w-100 submit-btn">
                Register <i class="bi bi-arrow-right ms-1"></i>
              </button>
            </form>
            <p class="text-center mt-4">
              Already have an account? <a href="/~xzy2020c/PurelyHandmade/views/auth/login.html" class="login-link">Log
                In</a>
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Toast for notifications -->
  <div class="position-fixed top-0 end-0 p-3" style="z-index: 1060">
    <div id="notification-toast" class="toast align-items-center text-white bg-primary border-0" role="alert"
      aria-live="assertive" aria-atomic="true">
      <div class="d-flex">
        <div class="toast-body" id="toast-message">
          <!-- Toast message will be set dynamically -->
        </div>
        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
          aria-label="Close"></button>
      </div>
    </div>
  </div>

  <!-- Footer Placeholder -->
  <div id="footer-placeholder"></div>

  <script>
    document.write(`
    <script src="${CONFIG.getJsPath('navbar-handler.js')}"><\/script>
       <script src="${CONFIG.getJsPath('register.js')}"><\/script>
  `);
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>