<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Order Details - Purely Homemade</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  
  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="/src/client/css/style.css">
  <link rel="stylesheet" href="/src/client/css/navbar.css">
  <link rel="stylesheet" href="/src/client/css/global.css">

  <style>
    .order-container {
      background-color: #fff;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
      overflow: hidden;
      margin-bottom: 30px;
    }
    
    .order-header {
      background-color: #f8f9fa;
      border-bottom: 1px solid #e9ecef;
      padding: 20px;
    }
    
    .order-status {
      display: inline-block;
      padding: 6px 12px;
      border-radius: 30px;
      font-size: 14px;
      font-weight: 600;
      margin-left: 10px;
    }
    
    .status-processing {
      background-color: #cff4fc;
      color: #055160;
    }
    
    .status-shipped {
      background-color: #d1e7dd;
      color: #0f5132;
    }
    
    .status-delivered {
      background-color: #d1e7dd;
      color: #0f5132;
    }
    
    .status-cancelled {
      background-color: #f8d7da;
      color: #842029;
    }
    
    .order-date {
      color: #6c757d;
      font-size: 14px;
    }
    
    .order-section {
      padding: 20px;
      border-bottom: 1px solid #e9ecef;
    }
    
    .order-section:last-child {
      border-bottom: none;
    }
    
    .section-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 15px;
      color: #212529;
      position: relative;
      padding-bottom: 10px;
    }
    
    .section-title:after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 50px;
      height: 2px;
      background-color: #0d6efd;
    }
    
    .info-box {
      background-color: #f8f9fa;
      border-radius: 5px;
      padding: 15px;
      height: 100%;
    }
    
    .product-item {
      padding: 15px;
      border-bottom: 1px solid #e9ecef;
      display: flex;
      align-items: center;
    }
    
    .product-item:last-child {
      border-bottom: none;
    }
    
    .product-image {
      width: 80px;
      height: 80px;
      object-fit: cover;
      border-radius: 5px;
      margin-right: 15px;
    }
    
    .product-details {
      flex: 1;
    }
    
    .product-price {
      text-align: right;
      min-width: 100px;
    }
    
    .price-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
    }
    
    .price-total {
      font-weight: 700;
      font-size: 18px;
      border-top: 1px solid #dee2e6;
      padding-top: 10px;
      margin-top: 10px;
    }
    
    .tracking-timeline {
      position: relative;
      padding-left: 30px;
    }
    
    .timeline-item {
      position: relative;
      padding-bottom: 25px;
    }
    
    .timeline-item:last-child {
      padding-bottom: 0;
    }
    
    .timeline-item:before {
      content: '';
      position: absolute;
      left: -30px;
      top: 0;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background-color: #0d6efd;
      z-index: 1;
    }
    
    .timeline-item:after {
      content: '';
      position: absolute;
      left: -21px;
      top: 20px;
      width: 2px;
      height: calc(100% - 20px);
      background-color: #dee2e6;
    }
    
    .timeline-item:last-child:after {
      display: none;
    }
    
    .timeline-date {
      font-size: 14px;
      color: #6c757d;
    }
    
    .timeline-content {
      font-weight: 500;
    }
    
    .btn-action {
      margin-right: 10px;
      margin-bottom: 10px;
    }
    
    @media (max-width: 767.98px) {
      .product-item {
        flex-direction: column;
        align-items: flex-start;
      }
      
      .product-image {
        margin-bottom: 15px;
        margin-right: 0;
      }
      
      .product-price {
        text-align: left;
        margin-top: 10px;
      }
    }
  </style>
</head>
<body>

<!-- Navbar Placeholder -->
<div id="navbar-placeholder"></div>

<!-- Order Details Header -->
<div class="container py-5">
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="/src/client/index.html">Home</a></li>
      <li class="breadcrumb-item"><a href="order-history.html">My Orders</a></li>
      <li class="breadcrumb-item active" aria-current="page">Order Details</li>
    </ol>
  </nav>
  
  <!-- 加载指示器 -->
  <div id="loading-indicator" class="text-center my-5 d-none">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <p class="mt-3">Loading order details...</p>
  </div>
  
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="h3">Order Details</h1>
    <a href="javascript:history.back()" class="btn btn-outline-secondary">
      <i class="bi bi-arrow-left"></i> Back
    </a>
  </div>
  
  <!-- Order Container -->
  <div class="order-container">
    <!-- Order Header -->
    <div class="order-header">
      <div class="row align-items-center">
        <div class="col-md-6">
          <h3 id="order-id" class="mb-1">Order #PH20230001</h3>
          <p id="order-date" class="text-muted mb-0">Placed on March 10, 2023</p>
        </div>
        <div class="col-md-6 text-md-end">
          <span id="order-status" class="order-status status-completed">Completed</span>
        </div>
      </div>
    </div>
    
    <!-- Order Tracking -->
    <div class="order-section">
      <h3 class="section-title">Order Tracking</h3>
      <div class="tracking-timeline mt-4">
        <div class="timeline-item">
          <div class="timeline-date">March 5, 2023 - 10:30 AM</div>
          <div class="timeline-content">Order Placed</div>
        </div>
        <div class="timeline-item">
          <div class="timeline-date">March 6, 2023 - 9:15 AM</div>
          <div class="timeline-content">Order Processed</div>
        </div>
        <div class="timeline-item">
          <div class="timeline-date">March 7, 2023 - 2:45 PM</div>
          <div class="timeline-content">Shipped via Express Delivery</div>
          <div class="mt-2">
            <small class="text-muted">Tracking Number: <a href="#" class="text-decoration-none">TRACK123456789</a></small>
          </div>
        </div>
        <div class="timeline-item">
          <div class="timeline-date">Expected by March 10, 2023</div>
          <div class="timeline-content">Delivery</div>
        </div>
      </div>
    </div>
    
    <!-- Customer & Shipping Info -->
    <div class="order-section">
      <div class="row">
        <div class="col-md-4 mb-4 mb-md-0">
          <h3 class="section-title">Customer Information</h3>
          <div class="info-box">
            <p class="mb-1"><strong>John Doe</strong></p>
            <p class="mb-1">john.doe@example.com</p>
            <p class="mb-0">+1 (555) 123-4567</p>
          </div>
        </div>
        <div class="col-md-4 mb-4 mb-md-0">
          <h3 class="section-title">Shipping Address</h3>
          <div class="info-box">
            <p id="shipping-address" class="mb-0">No shipping information provided</p>
          </div>
        </div>
        <div class="col-md-4">
          <h3 class="section-title">Payment Information</h3>
          <div class="info-box">
            <p class="mb-1"><strong>Payment Method:</strong></p>
            <p class="mb-1">
              <i class="bi bi-credit-card"></i> Credit Card (•••• 4567)
            </p>
            <p class="mb-0"><strong>Billing Address:</strong> Same as shipping</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Order Items -->
    <div class="order-section">
      <h3 class="section-title">Order Items</h3>
      <div class="product-list mt-4">
        <div class="product-item">
          <img src="/src/client/img/category-soaps.jpg" alt="Handmade Soap" class="product-image">
          <div class="product-details">
            <h5 class="mb-1">Lavender Handmade Soap</h5>
            <p class="mb-0 text-muted">Organic ingredients, gentle on skin</p>
          </div>
          <div class="product-price">
            <p class="mb-1">$12.99 x 2</p>
            <p class="mb-0 fw-bold">$25.98</p>
          </div>
        </div>
        <div class="product-item">
          <img src="/src/client/img/category-candles.jpg" alt="Handmade Candle" class="product-image">
          <div class="product-details">
            <h5 class="mb-1">Vanilla Soy Candle</h5>
            <p class="mb-0 text-muted">10oz, 40+ hour burn time</p>
          </div>
          <div class="product-price">
            <p class="mb-1">$18.50 x 1</p>
            <p class="mb-0 fw-bold">$18.50</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Price Summary -->
    <div class="order-section">
      <div class="row">
        <div class="col-md-6 offset-md-6">
          <h3 class="section-title">Order Summary</h3>
          <div class="price-summary mt-3">
            <div class="price-row">
              <span>Subtotal</span>
              <span>$44.48</span>
            </div>
            <div class="price-row">
              <span>Shipping</span>
              <span>$5.99</span>
            </div>
            <div class="price-row">
              <span>Tax</span>
              <span>$3.56</span>
            </div>
            <div class="price-row price-total">
              <span>Total</span>
              <span>$54.03</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Action Buttons -->
    <div class="order-section bg-light">
      <div class="d-flex flex-wrap">
        <a href="#" class="btn btn-outline-primary btn-action">
          <i class="bi bi-cart-plus"></i> Buy Again
        </a>
        <a href="#" class="btn btn-outline-secondary btn-action">
          <i class="bi bi-chat-dots"></i> Contact Support
        </a>
        <a href="#" class="btn btn-outline-danger btn-action">
          <i class="bi bi-x-circle"></i> Cancel Order
        </a>
        <a href="#" class="btn btn-outline-secondary btn-action">
          <i class="bi bi-printer"></i> Print Order
        </a>
      </div>
    </div>
  </div>
</div>

<!-- Footer Placeholder -->
<div id="footer-placeholder"></div>

<!-- Toast通知容器 -->
<div class="toast-container" id="toast-container"></div>

<!-- Bootstrap JS and jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
  // Load navbar and footer
  fetch('/src/client/assets/layout/navbar.html')
    .then(response => {
      if (!response.ok) {
        throw new Error(`Failed to load navbar (${response.status})`);
      }
      return response.text();
    })
    .then(html => {
      document.getElementById('navbar-placeholder').innerHTML = html;
      console.log('Navbar loaded successfully');
      
      // 导航栏加载完成后，确保更新登录状态
      setTimeout(() => {
        console.log('Checking for updateAuthButton availability');
        
        // 尝试使用全局函数
        if (typeof window.updateAuthButton === 'function') {
          console.log('Updating auth button state using window.updateAuthButton');
          window.updateAuthButton();
        }
        // 尝试使用局部函数
        else if (typeof updateAuthButton === 'function') {
          console.log('Updating auth button state using updateAuthButton');
          updateAuthButton();
        }
        // 使用备用实现
        else {
          console.log('updateAuthButton function not available, using fallback');
          // 定义一个备用的updateAuthButton函数
          window.updateAuthButton = function() {
            const currentUser = localStorage.getItem('currentUser');
            const loginButton = document.getElementById('login-button');
            const registerButton = document.getElementById('register-button');
            const profileButton = document.getElementById('profile-button');
            const logoutButton = document.getElementById('logout-button');
            
            console.log('Update Auth Button fallback called, currentUser:', currentUser ? 'exists' : 'not found');
            
            if (currentUser) {
              // 用户已登录
              if (loginButton) loginButton.style.display = 'none';
              if (registerButton) registerButton.style.display = 'none';
              if (profileButton) profileButton.style.display = 'block';
              if (logoutButton) {
                logoutButton.style.display = 'block';
                logoutButton.addEventListener('click', function(e) {
                  e.preventDefault();
                  localStorage.removeItem('currentUser');
                  window.location.href = '/src/client/html/index.html';
                });
              }
            } else {
              // 用户未登录
              if (loginButton) loginButton.style.display = 'block';
              if (registerButton) registerButton.style.display = 'block';
              if (profileButton) profileButton.style.display = 'none';
              if (logoutButton) logoutButton.style.display = 'none';
            }
          };
          
          // 调用备用函数
          window.updateAuthButton();
        }
      }, 300);
      
      // 更新购物车数量
      if (typeof updateCartCount === 'function') {
        updateCartCount();
      }
    })
    .catch(error => {
      console.error('Error loading navbar:', error);
      document.getElementById('navbar-placeholder').innerHTML = '<div class="alert alert-danger">Failed to load navigation. Please refresh the page.</div>';
    });

  fetch('/src/client/assets/layout/footer.html')
    .then(response => {
      if (!response.ok) {
        throw new Error(`Failed to load footer (${response.status})`);
      }
      return response.text();
    })
    .then(html => {
      document.getElementById('footer-placeholder').innerHTML = html;
      console.log('Footer loaded successfully');
    })
    .catch(error => {
      console.error('Error loading footer:', error);
      document.getElementById('footer-placeholder').innerHTML =
              '<div class="alert alert-danger">Failed to load footer. Please check console for details.</div>';
    });
  
  // 在文档完全加载后再次尝试调用更新身份验证状态和购物车
  document.addEventListener('DOMContentLoaded', function() {
    console.log('DOMContentLoaded: Document fully loaded, checking auth and cart state');
    
    // 添加额外的延迟来确保导航栏已完全加载并且身份验证状态得到正确更新
    setTimeout(() => {
      console.log('Document fully loaded, updating auth state again');
      if (typeof window.updateAuthButton === 'function') {
        window.updateAuthButton();
      }
      
      if (typeof window.updateCartCount === 'function') {
        window.updateCartCount();
      }
      
      // 模拟从URL获取订单ID并加载订单数据
      loadOrderDetails();
    }, 500);
  });
  
  // API服务
  const ApiService = {
    baseUrl: '/api',
    
    // 处理API响应
    handleResponse: async function(response) {
      if (!response.ok) {
        const error = new Error('API request failed');
        error.status = response.status;
        error.statusText = response.statusText;
        try {
          if (response.headers.get('content-type')?.includes('application/json')) {
            error.data = await response.json();
          } else {
            error.data = await response.text();
          }
        } catch (e) {
          error.data = 'Could not parse error response';
        }
        throw error;
      }
      
      if (response.headers.get('content-type')?.includes('application/json')) {
        return response.json();
      }
      return response.text();
    },
    
    // GET请求
    get: function(url, params = {}) {
      const queryParams = new URLSearchParams();
      Object.keys(params).forEach(key => {
        if (params[key] !== undefined && params[key] !== null) {
          queryParams.append(key, params[key]);
        }
      });
      
      const queryString = queryParams.toString();
      const fullUrl = this.baseUrl + url + (queryString ? `?${queryString}` : '');
      
      return fetch(fullUrl, {
        method: 'GET',
        headers: {
          'Accept': 'application/json',
          'Authorization': `Bearer ${localStorage.getItem('authToken') || localStorage.getItem('token')}`
        }
      }).then(this.handleResponse);
    }
  };
  
  // 加载订单详情的函数
  async function loadOrderDetails() {
    try {
      // 从URL获取订单ID
      const orderId = new URLSearchParams(window.location.search).get('id');
      
      if (!orderId) {
        showToast('No order ID provided', 'error');
        return;
      }
      
      // 检查用户登录状态
      const token = localStorage.getItem('authToken') || localStorage.getItem('token');
      if (!token) {
        showToast('Please login to view order details', 'error');
        setTimeout(() => {
          window.location.href = '/src/client/views/auth/login.html?redirect=' + encodeURIComponent(window.location.href);
        }, 3000);
        return;
      }
      
      // 显示加载提示
      document.getElementById('loading-indicator').classList.remove('d-none');
      
      let order;
      
      try {
        // 尝试从API获取订单详情
        const response = await ApiService.get(`/orders/${orderId}`);
        console.log("API Response:", response);
        
        if (!response.success) {
          console.error("API returned failure status:", response);
          throw new Error(response.data || 'Failed to load order details');
        }
        
        order = response.data;
      } catch (apiError) {
        console.error('API Error:', apiError);
        showToast("Using demo data - database connection failed", "warning");
        
        // 提供模拟订单详情数据
        const mockOrders = {
          "ORD10001": {
            id: "ORD10001",
            status: "processing",
            totalAmount: 78.99,
            createdAt: new Date().toISOString(),
            shippingInfo: JSON.stringify({
              addressLine1: "123 Main Street",
              addressLine2: "Apt 4B",
              city: "New York",
              state: "NY",
              zipCode: "10001",
              country: "United States"
            }),
            items: [
              {
                product: {
                  name: "Handmade Soap Collection",
                  image: "/src/client/img/category-soaps.jpg"
                },
                quantity: 2,
                price: 24.99
              },
              {
                product: {
                  name: "Aromatic Candle",
                  image: "/src/client/img/category-candles.jpg"
                },
                quantity: 1,
                price: 29.01
              }
            ]
          },
          "ORD10002": {
            id: "ORD10002",
            status: "delivered",
            totalAmount: 45.95,
            createdAt: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString(),
            shippingInfo: JSON.stringify({
              addressLine1: "456 Oak Avenue",
              city: "San Francisco",
              state: "CA",
              zipCode: "94102",
              country: "United States"
            }),
            items: [
              {
                product: {
                  name: "Ceramic Mug",
                  image: "/src/client/img/product-placeholder.jpg"
                },
                quantity: 1,
                price: 45.95
              }
            ]
          },
          "ORD10003": {
            id: "ORD10003",
            status: "shipped",
            totalAmount: 120.50,
            createdAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(),
            shippingInfo: JSON.stringify({
              addressLine1: "789 Pine Street",
              city: "Chicago",
              state: "IL",
              zipCode: "60007",
              country: "United States"
            }),
            items: [
              {
                product: {
                  name: "Gift Basket",
                  image: "/src/client/img/product-placeholder.jpg"
                },
                quantity: 1,
                price: 120.50
              }
            ]
          }
        };
        
        // 检查模拟数据中是否有请求的订单ID
        if (mockOrders[orderId]) {
          order = mockOrders[orderId];
        } else {
          // 如果没有匹配的订单ID，使用模拟数据中的第一个订单
          order = mockOrders["ORD10001"];
          order.id = orderId; // 替换为请求的ID
        }
      }
      
      // 隐藏加载提示
      document.getElementById('loading-indicator').classList.add('d-none');
      
      console.log("Order data:", order);
      
      // 确保订单项目是数组
      if (!order.items || !Array.isArray(order.items)) {
        console.warn("Order items not found or not an array, using empty array");
        order.items = [];
      }
      
      // 更新页面上的订单信息
      document.getElementById('order-id').textContent = `Order #${order.id}`;
      
      // 安全地处理日期
      let orderDate;
      try {
        orderDate = new Date(order.createdAt).toLocaleDateString();
      } catch (e) {
        console.warn("Invalid date format:", order.createdAt);
        orderDate = "Unknown date";
      }
      document.getElementById('order-date').textContent = orderDate;
      
      // 安全地处理状态
      const status = order.status || 'unknown';
      document.getElementById('order-status').textContent = status.charAt(0).toUpperCase() + status.slice(1);
      document.getElementById('order-status').className = `order-status status-${status}`;
      
      // 更新订单项目
      const orderItemsContainer = document.getElementById('order-items');
      orderItemsContainer.innerHTML = '';
      
      let totalItems = 0;
      order.items.forEach(item => {
        // 安全地增加数量
        const quantity = parseInt(item.quantity) || 1;
        totalItems += quantity;
        
        // 安全地处理价格
        const price = parseFloat(item.price) || 0;
        
        // 安全地处理产品信息
        const productName = item.product?.name || item.productName || 'Product';
        const productImage = item.product?.image || item.productImage || '/src/client/img/product-placeholder.jpg';
        
        const itemHTML = `
          <div class="product-item">
            <img src="${productImage}" alt="${productName}" class="product-image">
            <div class="product-details">
              <p class="product-name">${productName}</p>
              <p class="product-price">$${price.toFixed(2)}</p>
              <p class="product-qty mb-0">Qty: ${quantity}</p>
            </div>
          </div>
        `;
        orderItemsContainer.innerHTML += itemHTML;
      });
      
      // 更新订单总计
      document.getElementById('order-total-items').textContent = totalItems;
      
      // 安全地处理总金额
      const totalAmount = parseFloat(order.totalAmount) || 0;
      document.getElementById('order-subtotal').textContent = `$${totalAmount.toFixed(2)}`;
      
      // 如果有配送信息，则更新
      if (order.shippingInfo) {
        try {
          let shippingInfo;
          
          // 处理不同格式的配送信息
          if (typeof order.shippingInfo === 'string') {
            try {
              shippingInfo = JSON.parse(order.shippingInfo);
            } catch (e) {
              console.warn("Failed to parse shipping info JSON:", e);
              shippingInfo = { addressLine1: order.shippingInfo };
            }
          } else if (typeof order.shippingInfo === 'object') {
            shippingInfo = order.shippingInfo;
          } else {
            shippingInfo = { addressLine1: "No detailed address available" };
          }
          
          // 构建地址HTML，处理缺失的字段
          const addressParts = [];
          
          if (shippingInfo.addressLine1) addressParts.push(shippingInfo.addressLine1);
          if (shippingInfo.addressLine2) addressParts.push(shippingInfo.addressLine2);
          
          const cityStateParts = [];
          if (shippingInfo.city) cityStateParts.push(shippingInfo.city);
          if (shippingInfo.state) cityStateParts.push(shippingInfo.state);
          if (shippingInfo.zipCode) cityStateParts.push(shippingInfo.zipCode);
          
          if (cityStateParts.length > 0) addressParts.push(cityStateParts.join(', '));
          if (shippingInfo.country) addressParts.push(shippingInfo.country);
          
          // 如果没有有效地址，显示提示信息
          if (addressParts.length === 0) {
            addressParts.push("No address information available");
          }
          
          document.getElementById('shipping-address').innerHTML = addressParts.join('<br>');
        } catch (error) {
          console.error('Error processing shipping info:', error);
          document.getElementById('shipping-address').innerHTML = "Could not display shipping address";
        }
      } else {
        document.getElementById('shipping-address').innerHTML = "No shipping information provided";
      }
      
      console.log('Order details loaded successfully');
      
    } catch (error) {
      console.error('Error loading order details:', error);
      document.getElementById('loading-indicator').classList.add('d-none');
      showToast(`Error loading order details: ${error.message}`, 'error');
    }
  }
  
  // 显示Toast通知
  function showToast(message, type = 'success') {
    const toastContainer = document.getElementById('toast-container');
    
    if (!toastContainer) return;
    
    // 创建toast元素
    const toast = document.createElement('div');
    toast.className = `toast ${type}`;
    toast.style.backgroundColor = '#fff';
    toast.style.color = '#333';
    toast.style.borderRadius = '4px';
    toast.style.padding = '10px 15px';
    toast.style.marginBottom = '10px';
    toast.style.minWidth = '250px';
    toast.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.15)';
    toast.style.display = 'flex';
    toast.style.alignItems = 'center';
    toast.style.position = 'relative';
    
    if (type === 'success') {
      toast.style.borderLeft = '4px solid #198754';
    } else if (type === 'error') {
      toast.style.borderLeft = '4px solid #dc3545';
    }
    
    // 添加内容
    toast.innerHTML = `
      <div style="flex: 1; padding-right: 10px;">${message}</div>
      <div style="cursor: pointer; font-size: 16px; color: #999;">&times;</div>
    `;
    
    // 添加到容器
    toastContainer.appendChild(toast);
    
    // 添加关闭按钮事件
    const closeBtn = toast.querySelector('div:last-child');
    closeBtn.addEventListener('click', function() {
      toast.remove();
    });
    
    // 自动3秒后移除
    setTimeout(() => {
      toast.remove();
    }, 3000);
  }
</script>

</body>
</html> 