[2025-03-23 13:29:03] [ERROR] Create order failed {"message":"Query error: SQLSTATE[HY093]: Invalid parameter number","code":0,"file":"\/Users\/no15438\/Desktop\/PurelyHandmade\/src\/server\/utils\/Database.php","line":75,"trace":"#0 \/Users\/no15438\/Desktop\/PurelyHandmade\/src\/server\/models\/Product.php(181): Utils\\Database->query('UPDATE Product ...', Array)\n#1 \/Users\/no15438\/Desktop\/PurelyHandmade\/src\/server\/controllers\/OrderController.php(159): Models\\Product->updateStock(8, 1)\n#2 \/Users\/no15438\/Desktop\/PurelyHandmade\/src\/server\/api\/orders\/create.php(38): Controllers\\OrderController->createOrder(Array)\n#3 \/Users\/no15438\/Desktop\/PurelyHandmade\/src\/server\/index.php(82): include_once('\/Users\/no15438\/...')\n#4 \/Users\/no15438\/Desktop\/PurelyHandmade\/index.php(6): require_once('\/Users\/no15438\/...')\n#5 {main}"}
[2025-03-23 13:29:10] [ERROR] Get orders failed {"message":"Query error: SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'Order WHERE userId = ?' at line 1","code":0,"file":"\/Users\/no15438\/Desktop\/PurelyHandmade\/src\/server\/utils\/Database.php","line":93,"trace":"#0 \/Users\/no15438\/Desktop\/PurelyHandmade\/src\/server\/models\/Order.php(88): Utils\\Database->fetch('SELECT COUNT(*)...', Array)\n#1 \/Users\/no15438\/Desktop\/PurelyHandmade\/src\/server\/controllers\/OrderController.php(31): Models\\Order->getAll(Array, 1, 10)\n#2 \/Users\/no15438\/Desktop\/PurelyHandmade\/src\/server\/api\/orders\/index.php(48): Controllers\\OrderController->getOrders(Array, 1, 10)\n#3 \/Users\/no15438\/Desktop\/PurelyHandmade\/src\/server\/index.php(82): include_once('\/Users\/no15438\/...')\n#4 \/Users\/no15438\/Desktop\/PurelyHandmade\/index.php(6): require_once('\/Users\/no15438\/...')\n#5 {main}"}
[2025-03-23 13:39:33] [ERROR] Create order failed {"message":"Query error: SQLSTATE[HY093]: Invalid parameter number","code":0,"file":"\/Users\/no15438\/Desktop\/PurelyHandmade\/src\/server\/utils\/Database.php","line":81,"trace":"#0 \/Users\/no15438\/Desktop\/PurelyHandmade\/src\/server\/models\/Product.php(181): Utils\\Database->query('UPDATE Product ...', Array)\n#1 \/Users\/no15438\/Desktop\/PurelyHandmade\/src\/server\/controllers\/OrderController.php(159): Models\\Product->updateStock(8, 1)\n#2 \/Users\/no15438\/Desktop\/PurelyHandmade\/src\/server\/api\/orders\/create.php(38): Controllers\\OrderController->createOrder(Array)\n#3 \/Users\/no15438\/Desktop\/PurelyHandmade\/src\/server\/index.php(82): include_once('\/Users\/no15438\/...')\n#4 \/Users\/no15438\/Desktop\/PurelyHandmade\/index.php(6): require_once('\/Users\/no15438\/...')\n#5 {main}"}
[2025-03-23 13:41:43] [ERROR] Create order failed {"message":"Query error: SQLSTATE[HY093]: Invalid parameter number","code":0,"file":"\/Users\/no15438\/Desktop\/PurelyHandmade\/src\/server\/utils\/Database.php","line":81,"trace":"#0 \/Users\/no15438\/Desktop\/PurelyHandmade\/src\/server\/models\/Product.php(181): Utils\\Database->query('UPDATE Product ...', Array)\n#1 \/Users\/no15438\/Desktop\/PurelyHandmade\/src\/server\/controllers\/OrderController.php(159): Models\\Product->updateStock(8, 1)\n#2 \/Users\/no15438\/Desktop\/PurelyHandmade\/src\/server\/api\/orders\/create.php(38): Controllers\\OrderController->createOrder(Array)\n#3 \/Users\/no15438\/Desktop\/PurelyHandmade\/src\/server\/index.php(82): include_once('\/Users\/no15438\/...')\n#4 \/Users\/no15438\/Desktop\/PurelyHandmade\/index.php(6): require_once('\/Users\/no15438\/...')\n#5 {main}"}
[2025-03-23 13:45:14] [ERROR] Create order failed {"message":"Query error: SQLSTATE[HY093]: Invalid parameter number","code":0,"file":"\/Users\/no15438\/Desktop\/PurelyHandmade\/src\/server\/utils\/Database.php","line":81,"trace":"#0 \/Users\/no15438\/Desktop\/PurelyHandmade\/src\/server\/models\/Product.php(181): Utils\\Database->query('UPDATE Product ...', Array)\n#1 \/Users\/no15438\/Desktop\/PurelyHandmade\/src\/server\/controllers\/OrderController.php(159): Models\\Product->updateStock(8, 1)\n#2 \/Users\/no15438\/Desktop\/PurelyHandmade\/src\/server\/api\/orders\/create.php(50): Controllers\\OrderController->createOrder(Array)\n#3 \/Users\/no15438\/Desktop\/PurelyHandmade\/src\/server\/index.php(82): include_once('\/Users\/no15438\/...')\n#4 \/Users\/no15438\/Desktop\/PurelyHandmade\/index.php(6): require_once('\/Users\/no15438\/...')\n#5 {main}"}
[2025-03-23 13:45:50] [ERROR] Create order failed {"message":"Query error: SQLSTATE[HY093]: Invalid parameter number","code":0,"file":"\/Users\/no15438\/Desktop\/PurelyHandmade\/src\/server\/utils\/Database.php","line":81,"trace":"#0 \/Users\/no15438\/Desktop\/PurelyHandmade\/src\/server\/models\/Product.php(181): Utils\\Database->query('UPDATE Product ...', Array)\n#1 \/Users\/no15438\/Desktop\/PurelyHandmade\/src\/server\/controllers\/OrderController.php(193): Models\\Product->updateStock(8, 1)\n#2 \/Users\/no15438\/Desktop\/PurelyHandmade\/src\/server\/api\/orders\/create.php(50): Controllers\\OrderController->createOrder(Array)\n#3 \/Users\/no15438\/Desktop\/PurelyHandmade\/src\/server\/index.php(82): include_once('\/Users\/no15438\/...')\n#4 \/Users\/no15438\/Desktop\/PurelyHandmade\/index.php(6): require_once('\/Users\/no15438\/...')\n#5 {main}"}
[2025-03-23 21:53:27] [INFO] 管理员请求所有订单，不添加userId过滤
[2025-03-23 21:53:27] [INFO] 获取订单 {"userId":13,"isAdmin":"true","getAll":"true","filters":[],"date_range":[null,null]}
[2025-03-23 21:53:27] [INFO] SQL查询 {"count_sql":"SELECT COUNT(*) as total FROM `Order` ","data_sql":"SELECT * FROM `Order`  ORDER BY createdAt DESC LIMIT :limit OFFSET :offset","params":{"limit":10,"offset":0},"result_count":10}
[2025-03-23 21:53:27] [INFO] 查询结果 {"total":10,"orders_count":10}
[2025-03-23 21:57:46] [INFO] 管理员请求所有订单，不添加userId过滤
[2025-03-23 21:57:46] [INFO] 获取订单 {"userId":13,"isAdmin":"true","getAll":"true","filters":[],"date_range":[null,null]}
[2025-03-23 21:57:46] [INFO] SQL查询 {"count_sql":"SELECT COUNT(*) as total FROM `Order` ","data_sql":"SELECT * FROM `Order`  ORDER BY createdAt DESC LIMIT :limit OFFSET :offset","params":{"limit":10,"offset":0},"result_count":10}
[2025-03-23 21:57:46] [INFO] 查询结果 {"total":10,"orders_count":10}
